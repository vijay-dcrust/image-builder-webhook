{
    "apiVersion": "v1",
    "kind": "Pod",
    "metadata": {
        "name": "kaniko",
        "namespace": "default"
    },
    "spec": {
        "containers": [
            {
                "args": [
                    "--context=git://github.com/vijay-dcrust/simple-webhook.git",
                    "--destination=851255665500.dkr.ecr.ap-southeast-1.amazonaws.com/db-central-repo:simple-webhook"
                ],
                "env": [
                    {
                        "name": "AWS_PROFILE",
                        "value": "sgcentral"
                    }
                ],
                "image": "vijaydcrust/kaniko-latest",
                "name": "kaniko",
                "volumeMounts": [
                    {
                        "mountPath": "/root/.docker/",
                        "name": "docker-config"
                    },
                    {
                        "mountPath": "/root/.aws/",
                        "name": "aws-secret"
                    }
                ]
            }
        ],
        "nodeSelector": {
            "beta.kubernetes.io/arch": "amd64"
        },
        "restartPolicy": "Never",
        "volumes": [
            {
                "configMap": {
                    "name": "docker-config"
                },
                "name": "docker-config"
            },
            {
                "name": "aws-secret",
                "secret": {
                    "secretName": "aws-secret"
                }
            }
        ]
    }
}
